-- MySQL Script generated by MySQL Workbench
-- Thu Sep 26 15:41:51 2019
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `mydb` ;

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
SHOW WARNINGS;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.``
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`` (
)
ENGINE = InnoDB;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Admin`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Admin` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Admin` (
  `idAdmin` INT NOT NULL,
  `Name` VARCHAR(45) NOT NULL,
  `Major` INT NOT NULL,
  PRIMARY KEY (`idAdmin`),
  CONSTRAINT `Major`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Major` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `idAdmin_UNIQUE` ON `mydb`.`Admin` (`idAdmin` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Classification`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Classification` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Classification` (
  `idClassification` INT NOT NULL,
  `Name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idClassification`))
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `idClassification_UNIQUE` ON `mydb`.`Classification` (`idClassification` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`College`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`College` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`College` (
  `idCollege` INT NOT NULL,
  `Name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idCollege`))
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `idCollege_UNIQUE` ON `mydb`.`College` (`idCollege` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Courschema`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Courschema` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Courschema` (
  `Courschema` INT NOT NULL,
  `Year` INT NOT NULL,
  `Major` INT NOT NULL,
  `Deparment` INT NOT NULL,
  PRIMARY KEY (`Courschema`),
  CONSTRAINT `Year`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Year` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Major`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Major` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Department`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Department` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `Courschema_UNIQUE` ON `mydb`.`Courschema` (`Courschema` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Course`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Course` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Course` (
  `idCourse` INT NOT NULL,
  `Code` VARCHAR(10) NOT NULL,
  `CourseName` VARCHAR(45) NOT NULL,
  `Department` INT NOT NULL,
  `Classification` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idCourse`),
  CONSTRAINT `Department`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Department` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Classification`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Classification` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `idCourse_UNIQUE` ON `mydb`.`Course` (`idCourse` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Course_Eva`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Course_Eva` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Course_Eva` (
  `Course` INT NOT NULL,
  `Evaluation` INT NOT NULL,
  PRIMARY KEY (`Course`, `Evaluation`),
  CONSTRAINT `Course`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Course` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Eva`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Evaluation` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `Course_UNIQUE` ON `mydb`.`Course_Eva` (`Course` ASC) VISIBLE;

SHOW WARNINGS;
CREATE UNIQUE INDEX `Evaluation_UNIQUE` ON `mydb`.`Course_Eva` (`Evaluation` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Course_Semester`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Course_Semester` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Course_Semester` (
  `Course` INT NOT NULL,
  `Sem` INT NOT NULL,
  PRIMARY KEY (`Course`, `Sem`),
  CONSTRAINT `Course`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Course` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Sem`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Semster` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `Course_UNIQUE` ON `mydb`.`Course_Semester` (`Course` ASC) VISIBLE;

SHOW WARNINGS;
CREATE UNIQUE INDEX `Sem_UNIQUE` ON `mydb`.`Course_Semester` (`Sem` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Course_Teacher`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Course_Teacher` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Course_Teacher` (
  `Course` INT NOT NULL,
  `Teacher` INT NOT NULL,
  PRIMARY KEY (`Course`, `Teacher`),
  CONSTRAINT `Course`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Course` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Teacher`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Teacher` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `Course_UNIQUE` ON `mydb`.`Course_Teacher` (`Course` ASC) VISIBLE;

SHOW WARNINGS;
CREATE UNIQUE INDEX `Teacher_UNIQUE` ON `mydb`.`Course_Teacher` (`Teacher` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Department`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Department` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Department` (
  `idDepartment` INT NOT NULL,
  `Name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idDepartment`))
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `idDepartment_UNIQUE` ON `mydb`.`Department` (`idDepartment` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Evaluation`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Evaluation` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Evaluation` (
  `idEvaluation` INT NOT NULL,
  `Content` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idEvaluation`))
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `idEvaluation_UNIQUE` ON `mydb`.`Evaluation` (`idEvaluation` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Major`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Major` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Major` (
  `idMajor` INT NOT NULL,
  `Name` VARCHAR(45) NOT NULL,
  `Department` INT NOT NULL,
  PRIMARY KEY (`idMajor`),
  CONSTRAINT `Dpartment`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Department` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `idMajor_UNIQUE` ON `mydb`.`Major` (`idMajor` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Prerequisite`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Prerequisite` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Prerequisite` (
  `Course` INT NOT NULL,
  `idPreCourse` INT NOT NULL,
  PRIMARY KEY (`Course`, `idPreCourse`),
  CONSTRAINT `CourseN`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Course` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `PreCourse`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Course` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `PreCourse_UNIQUE` ON `mydb`.`Prerequisite` (`idPreCourse` ASC) VISIBLE;

SHOW WARNINGS;
CREATE UNIQUE INDEX `CourseN_UNIQUE` ON `mydb`.`Prerequisite` (`Course` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Replacable`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Replacable` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Replacable` (
  `idPreCourse` INT NOT NULL,
  `alternative` INT NOT NULL,
  PRIMARY KEY (`idPreCourse`, `alternative`),
  CONSTRAINT `idPreCourse`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Prerequisite` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `alternative`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Course` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `alternative_UNIQUE` ON `mydb`.`Replacable` (`alternative` ASC) VISIBLE;

SHOW WARNINGS;
CREATE UNIQUE INDEX `idPreCourse_UNIQUE` ON `mydb`.`Replacable` (`idPreCourse` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Schema_Course`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Schema_Course` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Schema_Course` (
  `Course` INT NOT NULL,
  `Schema` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`Course`, `Schema`),
  CONSTRAINT `Course`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Course` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Schema`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Courschema` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `Course_UNIQUE` ON `mydb`.`Schema_Course` (`Course` ASC) VISIBLE;

SHOW WARNINGS;
CREATE UNIQUE INDEX `Schema_UNIQUE` ON `mydb`.`Schema_Course` (`Schema` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Semster`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Semster` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Semster` (
  `idSemster` INT NOT NULL,
  `Name` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`idSemster`))
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `idSemster_UNIQUE` ON `mydb`.`Semster` (`idSemster` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Student`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Student` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Student` (
  `idStudent` INT NOT NULL,
  `Name` VARCHAR(45) NOT NULL,
  `Department` INT NULL,
  `Major` INT NULL,
  `BeginYear` DECIMAL(4) NOT NULL,
  `College` INT NOT NULL,
  PRIMARY KEY (`idStudent`),
  CONSTRAINT `Department`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Department` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Major`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Major` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `College`
    FOREIGN KEY ()
    REFERENCES `mydb`.`College` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `BeginYear`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Year` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `idStudent_UNIQUE` ON `mydb`.`Student` (`idStudent` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Teacher`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Teacher` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Teacher` (
  `idTeacher` INT NOT NULL,
  `Name` VARCHAR(45) NOT NULL,
  `Department` VARCHAR(45) NOT NULL,
  `Title` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idTeacher`),
  CONSTRAINT `Department`
    FOREIGN KEY ()
    REFERENCES `mydb`.`Department` ()
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `idTeacher_UNIQUE` ON `mydb`.`Teacher` (`idTeacher` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `mydb`.`Year`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Year` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `mydb`.`Year` (
  `idYear` INT NOT NULL,
  PRIMARY KEY (`idYear`))
ENGINE = InnoDB;

SHOW WARNINGS;

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
